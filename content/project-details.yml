projects:
  - slug: "railnetwork"
    architecture:
      title: "서비스 아키텍처"
      description: "TrainAccAPI(Node.js/Express + gRPC)가 Redis·Mongo 캐시를 두고 노선별 워커를 관리하며, Next.js 클라이언트는 REST와 WebSocket을 통해 실시간 데이터를 구독하는 구조입니다."
      media:
        src: "/assets/railnetwork/rail_architecture_diagram.svg"
        alt: "RailNetwork · TrainAccAPI 아키텍처 다이어그램"
      bullets:
        - "Express 라우터와 gRPC 서버를 동일 프로세스에서 구동해 모바일·웹·현장 단말을 동시에 지원하고, 인증 미들웨어로 장치 서명을 검증합니다."
        - "Redis는 실시간 열차/편성 캐시, MongoDB는 종료 열차 로그, 파일 시스템은 TrainACCScript가 생성하는 JSON 시간표를 저장합니다."
    sections:
      - title: "프로젝트 개요"
        description: "서울 지하철 전 노선을 대상으로 실시간 열차 위치, 편성, 시간표를 통합 제공하는 TrainAccAPI 백엔드를 개발하고, 모바일·웹 클라이언트가 동일한 데이터 파이프라인을 활용하도록 구성했습니다."
        bullets:
          - "REST와 gRPC를 동시에 지원해 Flutter, 웹, 현장 단말에서 공통 엔드포인트를 사용하도록 설계했습니다."
          - "JWT 기반 인증과 디지털 서명 검증으로 민감한 운행 데이터를 안전하게 유통했습니다."
          - "시간표·지도·실시간 데이터 자산을 한 곳에서 관리해 신규 노선 확장과 알림 워크플로를 단순화했습니다."
      - title: "실시간 데이터 수집"
        description: "코레일 지하철톡·또타 앱을 Proxyman으로 트레이싱해 숨겨진 SMSS/열린데이터 API 서명을 복원하고, 노선별 폴링 전략을 재설계했습니다."
        bullets:
          - "SMSS 실패 시 서울시 열린데이터 광장 API로 폴백하고, 노선별 특수 파라미터를 객체로 분리해 유지보수를 단순화했습니다."
          - "`src/services/trainService.js`에서 행선지 교정·편성 추적 로직을 보강해 식별자 정규화, 임시 열차 스케줄 주입, 종료 열차 로그 저장까지 자동화했습니다."
          - "`apicall.js`의 SMSS/열린데이터 래퍼를 정리해 5초 폴링 루프와 폴백 시나리오가 모두 동일한 `ttcVOList` 포맷을 반환하도록 통합했습니다."
          - "2호선 순환선 특성 때문에 지연 시 열번이 바뀌는 문제를 `apiCalltoSMSS`에서 열린데이터 응답과 병합·중복 제거하고, `apiCallToSwOpenAPI`에서 `trainNo` 앞자리를 강제로 ‘2’로 보정해 해결했습니다."
      - title: "시간표·지도 자산"
        description: "내부 도구 두 개로 정적인 시간표와 지도 데이터를 일괄 생성해 서버와 앱에 배포했습니다."
        bullets:
          - "TrainACCScript `korail_line1_convert_engine.py`에서 열번 범위에 따라 일반·준급·급행을 판별하고, `time_reviser.py`로 새벽 5시 이전 열차 시간을 +24h 조정하는 파서를 구축했습니다."
          - "`timetable_converter/converter.py` 파이프라인으로 엑셀 시트별 시각표를 JSON으로 일괄 변환하고, 폴더 구조(평일·휴일·특수)를 `schedService.js`가 재귀적으로 로드하도록 설계했습니다."
          - "MapTool 실행 시 2호선에는 `--loop` 플래그를 적용해 `loop: infinity` 메타를 생성하고, 6호선은 응암순환 구간 역을 상하선으로 복제하도록 `serialize_station_data`를 조정해 분기·재진입을 표현했습니다."
      - title: "서버 워커와 지연 계산"
        description: "TrainAccAPI 서비스 레이어를 수정해 노선별 워커가 지연과 종료 로그를 안정적으로 계산하도록 했습니다."
        bullets:
          - "`trainService.js`에서 워커 초기화 → API 호출 → 새/기존 열차 분기 → 종료 판단까지 흐름을 재구성하고, MongoDB `TrainLogModel`에 운행 종료 기록을 저장했습니다."
          - "`departureTrainDelayCalc`, `normalTrainStopDelayCalc`, `lastTrainDelayCalc` 등 지연 함수군을 분석해 STS 상태값(1·2·3)별 출도착 판정 로직과 120분 이상 지연 시 종료 처리까지 맞췄습니다."
          - "`schedService.js`의 재귀 로더를 활용해 JSON 시간표를 메모리 캐시에 주입하고, 공휴일 판별 로직과 결합해 워커가 즉시 지연 계산에 활용하도록 했습니다."
      - title: "주요 기능"
        bullets:
          - "실시간 열차 추적, 역별 도착 정보, 편성 정보까지 하나의 API에서 제공"
          - "사용자 제보 기반 편성 관리와 다중 프로토콜(REST+gRPC) 지원"
      - title: "기술 스택"
        bullets:
          - "Node.js 런타임과 Express.js 프레임워크를 기반으로 REST API 구성"
          - "MongoDB·Redis를 결합해 장기 로그와 초저지연 캐시를 분리 운영"
          - "Swagger로 공개 API 문서화, Winston으로 표준화된 로깅 파이프라인 확보"
      - title: "보안 및 gRPC"
        description: "장치 인증, 서명 검증, 재사용 방지 전략을 통해 민감한 교통 데이터를 보호했습니다."
        bullets:
          - "장치별 공개키를 관리하고 HMAC-SHA256 서명으로 요청 위·변조를 차단"
          - "타임스탬프·논스 검증과 Rate Limiting으로 리플레이 공격을 방지"
          - "서버 내부에만 상세 에러를 기록하고, 클라이언트에는 일반화된 메시지를 반환"
      - title: "API 노출"
        bullets:
          - "`GET /train/:lineNum`과 `GET /train/:lineNum/:trainNum`으로 열차·편성 상세 제공"
          - "`GET /line/:lineId` 및 `GET /line/multiline`으로 노선 메타데이터 조회"
          - "`POST /hensei`와 gRPC `SubmitHensei`로 편성 제보를 수집 및 검증"
          - "`POST /device/register`로 장치 공개키를 등록해 인증 루프에 편입"
  - slug: "toge-info"
    architecture:
      title: "서비스 아키텍처"
      description: "Next.js + PostGIS 백엔드 조합으로 공간 데이터를 중심에 두고, 지도 레이어와 이벤트 워크플로를 분리 운영합니다."
      media:
        src: "/assets/projects/toge-info-cover.svg"
        alt: "Toge Info 공간 데이터 서비스 아키텍처"
      bullets:
        - "PostgreSQL/PostGIS에서 공간 인덱스로 성지 좌표를 관리"
        - "Leaflet 기반 지도 뷰와 Next.js 서버 컴포넌트가 레이지 로딩으로 협업"
        - "Cloud Tasks가 이벤트 발행/만료를 비동기로 처리"
    sections:
      - title: "지도 데이터 레이어"
        description: "성지 메타데이터와 사진 자산을 공간 쿼리로 묶어 제공합니다."
        bullets:
          - "거리 기반 추천을 위해 ST_DWithin으로 2km 반경 필터를 구현"
          - "S3 이미지에 사전 서명 URL을 발급해 지도 오버레이 지연을 최소화"
      - title: "행사 운영 자동화"
        description: "팬 이벤트를 빠르게 만들고 검증하는 백오피스 플로우입니다."
        bullets:
          - "이벤트 생성 → 리뷰 → 퍼블리시를 상태 머신으로 설계"
          - "변경 이력은 Supabase Storage에 JSON 스냅샷으로 적재해 롤백 지원"
      - title: "GPS 인증"
        description: "성지순례 인증 리뉴얼을 위한 기술 선택과 UX 실험 내용입니다."
        bullets:
          - "Haversine 공식을 이용해 모바일 기기에서 오프라인 거리 계산"
          - "앱 권한 거부 대비를 위해 SMS 인증과 조합하는 백업 플로우 설계"

toy-projects:
  - slug: "girlsbandtabi"
    architecture:
      title: "서비스 아키텍처"
      description: "girlsbandtabi(구 Toge Info)는 팬 제보를 YAML로 집계하고, Next.js REST API와 Edge Functions로 퍼블리시하는 1인 운영 플랫폼입니다."
      media:
        src: "/assets/toy/girlsbandtabi-overview.svg"
        alt: "girlsbandtabi AI 바이브 코딩 흐름"
      bullets:
        - "Cursor·Copilot 이중으로 프롬프트를 던져 컴포넌트와 쿼리를 빠르게 시제품화합니다."
        - "PostGIS에서 좌표·이미지 메타를 관리하고 Supabase Storage로 자산을 서빙합니다."
        - "Netlify Edge에서 Webhook을 받아 콘텐츠를 프리렌더링한 뒤 Slack으로 변경 내역을 통지합니다."
    sections:
      - title: "AI Vibe Coding 루틴"
        description: "이슈를 정의하고 LLM에게 초기 스캐폴딩을 맡긴 뒤, 수동 리팩터링과 테스트를 반복합니다."
        bullets:
          - "Cursor와 Code Interpreter로 구조 초안을 만든 뒤 Vitest·Playwright 스크립트를 수동 검수합니다."
          - "프롬프트-PR 루프를 통해 데이터 스키마 변경을 YAML과 타입 정의에 동시에 반영했습니다."
      - title: "콘텐츠 오케스트레이션"
        bullets:
          - "팬 제보는 Slack 폼 → Airtable을 거쳐 YAML로 쌓이고, API 라우터가 JSON으로 직렬화합니다."
          - "Edge 캐시 만료, OgImage 갱신, 지도 레이어 export를 단일 CLI에서 처리합니다."
  - slug: "ticket-autopilot"
    architecture:
      title: "자동 예매 파이프라인"
      description: "Ticket Autopilot은 멜론티켓의 AMD 모듈을 콘솔에서 직접 불러와 날짜·회차 선택과 예매 버튼 클릭까지 자동화한 스크립트 실험입니다."
      media:
        src: "/assets/toy/ticket-autopilot-diagram.svg"
        alt: "Ticket Autopilot 자동화 흐름"
      bullets:
        - "AMD 의존성 `js/app/performance/service/reservationService`를 `require`로 로드해 원본 `reservationInit` 흐름을 직접 호출합니다."
        - "jQuery로 예매 버튼 리스너를 재설정하고, 내부 속성에서 `prodId`, `prodTypeCode`, `authYn` 값을 읽어 파라미터를 구성합니다."
        - "4ms 폴링 타이머와 단계 변수(step)를 사용해 날짜 → 회차 → 예매 버튼 순으로 DOM을 감시·클릭합니다."
    sections:
      - title: "스크립트 구성"
        description: "초기 두 상수를 조정해 원하는 날짜·회차를 지정하고, AMD 모듈을 통해 멜론의 인증·파라미터 체인을 그대로 활용합니다."
        bullets:
          - "`dateIndex`, `timeIndex`만 변경하면 첫 날짜/회차부터 N번째 슬롯까지 선택을 제어할 수 있습니다."
          - "버튼 이벤트를 한번만 재바인딩해 중복 호출을 방지하고, 원본 `commonCode` 상수(`POC_CODE_PC`)를 그대로 사용합니다."
      - title: "실행 루프"
        description: "4ms 인터벌에서 상태를 전환하며 요소를 기다리고, ASCII 스피너 로그로 대기 상황을 시각화합니다."
        bullets:
          - "`step === 0`에서는 `.item_date` 리스트를 감시하고, 포착 즉시 클릭 후 시간 단계로 이동합니다."
          - "`step === 1`에서는 `.item_time`을 찾고, 예매 버튼 `.button.btColorGreen`이 준비되면 클릭 후 완료 단계로 이동합니다."
          - "`step === 2`가 되면 `clearInterval`로 폴링을 정리하고 `🎉` 메시지를 출력해 종료를 알립니다."
  - slug: "cup-reclaimer"
    architecture:
      title: "Arduino → AWS IoT → DynamoDB 파이프라인"
      description: "Cup Reclaimer는 Arduino 센서 스테이션이 AWS IoT Core로 이벤트를 전송하고, 서버리스 파이프라인이 데이터를 적재·시각화하는 구조입니다."
      media:
        src: "/assets/toy/cup-reclaimer-architecture.svg"
        alt: "Cup Reclaimer IoT 파이프라인"
      bullets:
        - "ESP 계열 Wi-Fi 보드 + 초음파 센서가 컵 투입을 감지하고 MQTT/TLS로 퍼블리시합니다."
        - "AWS IoT Rules가 메시지를 검증해 Lambda로 라우팅하고, DynamoDB와 S3에 각각 집계/원본 로그를 저장합니다."
        - "API Gateway와 React/Chart.js 대시보드가 실시간 수거량과 스테이션 상태를 제공합니다."
    sections:
      - title: "디바이스/센서 설계"
        description: "Arduino 펌웨어는 컵 투입 이벤트를 안정적으로 감지하기 위해 상태 머신 + 디바운싱을 사용했습니다."
        bullets:
          - "초음파 센서 거리 변화를 샘플링해 컵 투입 시점과 소거를 구분했습니다."
          - "MQTT QoS1, 지수적 재시도, 로컬 큐로 네트워크 오류에서도 데이터 유실을 막았습니다."
          - "Shadow 구성을 통해 임계값·업로드 주기를 원격 변경할 수 있도록 설계했습니다."
      - title: "클라우드 파이프라인"
        bullets:
          - "stations/{stationId}/events 토픽을 대상으로 Rule SQL로 필수 필드·스키마 버전을 검증했습니다."
          - "Lambda에서 중복 제거(타임스탬프 ±Δ), 스테이션 메타 병합 후 DynamoDB에 영속화하고, S3에 원본 로그를 보관했습니다."
          - "GSI(date_bucket, geoHash)를 활용해 일별·공간별 집계를 빠르게 조회했습니다."
      - title: "API와 대시보드"
        bullets:
          - "API Gateway → Lambda → DynamoDB 경로로 최근 N분 카운트, 일/주간 추이, 스테이션 비교 API를 제공했습니다."
          - "React/Chart.js 관리 페이지에 스테이션 카드, 24시간 추이, 시간대 히트맵, 지도 오버레이를 구현했습니다."
          - "Shadow 기반 원격 파라미터 변경, 펌웨어 버전 모니터링, 알람 확인 기능을 연결했습니다."
      - title: "분석과 입지 선정"
        description: "실측 데이터로 수거 위치 모델을 반복 보정해 최적 설치 후보지를 찾아냈습니다."
        bullets:
          - "카페 위치 K-means 군집화로 가게 밀집 구역을 도출하고, 이동 경로 기반 반경을 계산했습니다."
          - "현장 데이터로 최종 목적지 영향이 크다는 사실을 확인해 설치 위치를 유동 축 쪽으로 보정했습니다."
          - "향후 CCTV·공공데이터를 연계해 시간대·요일별 가중치를 학습하는 계획을 수립했습니다."
      - title: "보안·신뢰성"
        bullets:
          - "IAM 최소 권한, TLS 1.2, 디바이스별 인증서로 통신 신뢰성을 확보했습니다."
          - "(stationId, ts, seq) 합성 키 멱등 처리와 CloudWatch 경보로 운영 안정성을 높였습니다."
          - "라즈베리 파이 게이트웨이를 이용한 로컬 버퍼링/재전송 토폴로지도 검토했습니다."
  - slug: "enhence-search"
    architecture:
      title: "Enhence Search 확장 구조"
      description: "Enhence Search는 검색 낭비를 줄이고 탄소 중립에 기여하도록 설계된 브라우저 확장입니다."
      media:
        src: "/assets/toy/enhence-search-architecture.svg"
        alt: "Enhence Search Azure · Cloudflare 아키텍처"
      bullets:
        - "브라우저 확장이 검색 결과를 인터셉트해 광고·낚시형 블로그를 필터링하고, 유의미한 도메인만 우선 노출합니다."
        - "짧거나 애매한 검색어를 경량 sLM(Gemma 2:2b)으로 보정해 반복 검색을 방지합니다."
        - "Cloudflare DNS/프록시와 Azure Functions + Spring REST API + Azure SQL을 조합해 저품질 도메인 리스트와 사용자 피드백을 동기화합니다."
    sections:
      - title: "문제 정의와 탄소 절감"
        description: "불필요한 페이지 방문이 데이터 센터 에너지 낭비로 이어진다는 아이디어에서 직관을 얻었습니다."
        bullets:
          - "검색 효율 저하가 야기하는 광고 클릭·로딩 낭비를 줄여 네트워크 트래픽을 절감합니다."
          - "GPT처럼 연산 집약적인 모델 사용 빈도를 낮춰, 경량 로컬 처리로 전환하도록 유도합니다."
      - title: "기술 구성"
        description: "아이디어 노트에 명시된 스택을 혼자서 경량화하고 Azure·Cloudflare 인프라로 배포했습니다."
        bullets:
          - "Next.js + TypeScript로 확장 UI와 옵션 페이지를 구현하고 Tailwind로 빠르게 스타일링했습니다."
          - "Azure Functions에 Spring Boot를 경량 배포해 REST API를 제공하고, Azure SQL에서 필터 목록·피드백 데이터를 관리했습니다."
          - "Firebase Firestore에는 기기별 환경설정과 좋아요/싫어요 이벤트를 기록해 개인화 점수를 계산했습니다."
      - title: "사용자 여정"
        bullets:
          - "확장 설치 → 검색어 입력 → 자동 필터링 → 피드백 → 개인화 개선 흐름을 구현했습니다."
          - "Cloudflare Workers 경로에서 배포한 인사이트 배지를 SERP에 삽입해, 탄소 절감 효과를 시각적으로 표시했습니다."
      - title: "테스트와 유지보수"
        bullets:
          - "Playwright로 주요 검색엔진(SERP) 변경에 대비한 통합 테스트를 구성했습니다."
          - "Vitest로 필터 규칙과 검색어 보정 로직을 단위 테스트해 회귀를 방지했습니다."
