import{r,j as t,c as w}from"./assets/index-CjKUxShG.js";function y(){const[n,u]=r.useState(null),[m,x]=r.useState(""),[f,b]=r.useState(""),[i,l]=r.useState(null),[j,a]=r.useState(null);r.useEffect(()=>{chrome.storage.local.get("jwt",e=>{e.jwt&&u(e.jwt)})},[]);const g=async e=>{e.preventDefault(),l("로딩 중…"),await new Promise(o=>setTimeout(o,500)),chrome.storage.local.set({jwt:"mock-jwt-token"},()=>{u("mock-jwt-token"),l(null)})};r.useEffect(()=>{n&&chrome.tabs.query({active:!0,currentWindow:!0},e=>{var s;const o=(s=e[0])==null?void 0:s.id;o&&chrome.tabs.sendMessage(o,{type:"GET_REPLACED_COUNT"},c=>a(c.count))})},[n]);const d={width:360,padding:24,borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",backgroundColor:"#fff",fontFamily:"sans-serif"},p={width:"100%",padding:"10px 12px",margin:"8px 0",border:"1px solid #ccc",borderRadius:6,outline:"none"},h={width:"100%",padding:"10px 0",marginTop:8,backgroundColor:"#4a90e2",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"};return n?t.jsxs("div",{style:d,children:[t.jsx("h2",{children:"토게 인포"}),t.jsxs("p",{children:["변경된 검색 결과: ",j??"…","개"]}),t.jsx("button",{style:h,onClick:()=>{a(null),chrome.tabs.query({active:!0,currentWindow:!0},e=>{var s;const o=(s=e[0])==null?void 0:s.id;o&&chrome.tabs.sendMessage(o,{type:"GET_REPLACED_COUNT"},c=>a(c.count))})},children:"새로고침"})]}):t.jsxs("div",{style:d,children:[t.jsx("h2",{children:"토게 인포 로그인"}),t.jsxs("form",{onSubmit:g,children:[t.jsx("input",{style:p,type:"email",placeholder:"이메일",value:m,onChange:e=>x(e.target.value),required:!0}),t.jsx("input",{style:p,type:"password",placeholder:"비밀번호",value:f,onChange:e=>b(e.target.value),required:!0}),t.jsx("button",{style:h,type:"submit",children:"로그인"})]}),i&&t.jsx("p",{style:{color:"#888"},children:i})]})}const E=document.getElementById("root"),C=w.createRoot(E);C.render(t.jsx(y,{}));
